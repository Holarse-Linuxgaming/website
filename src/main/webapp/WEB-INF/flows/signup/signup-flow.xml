<flow xmlns="http://www.springframework.org/schema/webflow"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.springframework.org/schema/webflow
    http://www.springframework.org/schema/webflow/spring-webflow-2.0.xsd">

    <var name="signupCommand" class="de.gigexchange.web.signup.SignupCommand" />
    <var name="band" class="de.gigexchange.web.entity.Band" />
    
    <view-state id="signupForm" view="signup/form" model="signupCommand">
        <transition on="performSignup" to="performSignupAction" />
    </view-state>
    
    <action-state id="performSignupAction">
        <evaluate expression="bandService.register(signupCommand)" result="flowScope.band" />
        <transition to="done" />
    </action-state>    
    
    <end-state id="done" view="signup/done" />
    
</flow>